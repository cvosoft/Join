<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join: Add task</title>
    <link rel="icon" type="image/png" href="./favicon.png" />
    <link rel="stylesheet" href="./style/add_task.css" />
    <link rel="stylesheet" href="./style/style_general.css" />
    <link rel="stylesheet" href="./style/subtasks.css" />

    <!-- general scripts -->
    <script src="./js/script.js"></script>
    <script src="./js/contacts.js"></script>
    <script src="./js/templates.js"></script>
    <script src="./js/addTask.js"></script>
  </head>

  <body class="addtask" id="body" onload="onLoadAddTask()">
    <sidebar w3-include-html="./includes/sidebar.html"></sidebar>

    <mobile-header
      w3-include-html="./includes/mobile-header.html"
    ></mobile-header>

    <header w3-include-html="./includes/header.html"></header>

    <content>

      
      <h2>Add Task</h2>

      <div class="addTaskBigContainer">
        <form
          id="addTaskForm"
          class="addTaskForm"
          action=""
          onsubmit="addTask(); return false;"
        >
          <!-- novalidate-->
          <div class="upper">
            <div class="leftSideAddTaskPage">
              <div class="taskTitleContainer">
                <span class="addTaskSpans"
                  >Title <span class="red">*</span></span
                >
                <div class="taskTitleInputContainer">
                  <input
                    class="requiredInput"
                    id="title"
                    required
                    type="text"
                    placeholder="Enter a title"
                  />
                  <span class="error-message" id="nameError"
                    >This field is required!</span
                  >
                </div>
              </div>

              <div class="taskDescriptionContainer">
                <span class="addTaskSpans">Description</span>
                <div class="taskDescriptionInputContainer">
                  <textarea
                    placeholder="Enter a Description"
                    class="textareaDescription blueOutlineInput"
                    id="description"
                  ></textarea>
                </div>
              </div>

              <div class="taskTitleContainer">
                <span class="addTaskSpans">Assigned to</span>
                <div id="wrapperAt" class="wrapper" onclick="openWrapper('At')">
                  <span>Select contacts to assign</span>
                  <img
                    id="arrowDownAt"
                    src="./assets/img/arrow_down.png"
                    alt=""
                  />
                  <img
                    id="arrowUpAt"
                    class="dNone"
                    src="./assets/img/arrow_up.png"
                    alt=""
                  />
                </div>
                <ul id="wrapperListAt" class="wrapperList dNone"></ul>
                <div id="selectedContacts"></div>
              </div>
            </div>

            <div class="grayLineAddTaskPage"></div>

            <div class="rightSideAddTaskPage">
              <div class="dateContainer">
                <span class="addTaskSpans"
                  >Due date <span class="red">*</span></span
                >
                <div class="taskTitleInputContainer">
                  <input
                    class="requiredInput"
                    id="date"
                    required
                    type="date"
                    placeholder="dd/mm/yyyy"
                  />
                  <span class="error-message" id="dateError"
                    >This field is required!</span
                  >
                </div>
              </div>

              <div class="prioContainer">
                <span class="addTaskSpans">Prio</span>
                <div class="prioChoose">
                  <div
                    onclick="prioChoose(2)"
                    id="prio high"
                    class="prio high prioContainerBorder"
                  >
                    <span>Urgent</span>
                    <div id="highPrioImg" class="highPrioImg"></div>
                  </div>
                  <div
                    onclick="prioChoose(1)"
                    id="prio med"
                    class="prio med prioContainerBorder"
                  >
                    <span>Medium</span>
                    <div id="medPrioImg" class="medPrioImg"></div>
                  </div>
                  <div
                    onclick="prioChoose(0)"
                    id="prio low"
                    class="prio low prioContainerBorder"
                  >
                    <span>Low</span>
                    <div id="lowPrioImg" class="lowPrioImg"></div>
                  </div>
                </div>
              </div>

              <div class="taskTitleContainer categoryContainer">
                <label for="category">Category<span class="red">*</span></label>
                <div class="taskTitleInputContainer">
                  <select id="category" name="category" required>
                    <option value="">Select task category</option>
                    <option value="User Story">User Story</option>
                    <option value="Technical Task">Technical Task</option>
                  </select>
                  <span class="error-message" id="categoryError"
                    >This field is required!</span
                  >
                </div>
              </div>

              <div class="taskTitleContainer marginbottom">
                <span class="addTaskSpans">Subtasks</span>
                <div class="taskTitleInputContainer">
                  <input
                    id="subtaskInput"
                    type="text"
                    placeholder="Add new subtask"
                  />

                  <div
                    id="imgContainerSubtask"
                    class="imgContainer imgContainerBackground"
                  ></div>
                </div>
                <ul class="subTaskContainer" id="subTasks"></ul>
              </div>
              <!-- onclick="checkCategory()" -->
            </div>
          </div>
          <div class="lower">
            <span class="required"
              ><span class="red">*</span>This field is required</span
            >
            <div class="checkoutContainer">
              <button type="reset" class="cancelTaskButton">
                Cancel<img src="./assets/img/cancel.svg" />
              </button>
              <button type="submit" class="addTaskButton">
                Create Task<img src="./assets/img/check.svg" alt="" />
              </button>
            </div>
          </div>
        </form>
      </div>
    </content>

    <mobile-footer
      w3-include-html="./includes/mobile-footer.html"
    ></mobile-footer>
  </body>
</html>
